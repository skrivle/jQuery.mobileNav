/*!
 * jQuery.mobileNav 13-10-2013
 * author: Jelle Versele
 */
!function(a,b,c){"use strict";function d(c,d){var e=this;e.$element=a(c),e.$win=a(b),e.options=a.extend({},f,d),e.init()}var e="mobileNav",f={css:{triggerClass:"mobileNavTrigger",pluginActiveClass:"mobileNavActive",isOpenClass:"mobileNavOpen",labelClass:"mobileNavLabel",wrapperClass:"mobileNavWrapper"},text:{openText:"Open menu",closeText:"Close menu",noActiveItemText:"Menu"},callbacks:{afterOpen:c,afterClose:c,afterConstruct:c,afterDestruct:c},breakpoint:500,showLabel:!1,activeItemSelector:"ul > li.active > a",triggerEvent:"click"};d.prototype.init=function(){var b=this;b.$wrapper=a('<div class="'+b.options.css.wrapperClass+'"/>'),b.$trigger=a('<span aria-role="button" class="'+b.options.css.triggerClass+'">'+b.options.text.openText+"</span>"),b.$label=a('<span class="'+b.options.css.labelClass+'"/>'),b.$win.resize(function(){b.observe()}),b.observe(),b.$element.on(b.options.triggerEvent,"."+b.options.css.triggerClass,function(a){a.preventDefault(),b.isOpen()?b.close():b.open()})},d.prototype.isOpen=function(){var a=this;return a.$element.hasClass(a.options.css.isOpenClass)},d.prototype.close=function(){var a=this;a.$element.removeClass(a.options.css.isOpenClass),a.$trigger.text(a.options.text.openText),a.executeCallback(a.options.callbacks.afterClose)},d.prototype.open=function(){var a=this;a.$element.addClass(a.options.css.isOpenClass),a.$trigger.text(a.options.text.closeText),a.executeCallback(a.options.callbacks.afterOpen)},d.prototype.isActive=function(){var a=this;return a.$element.hasClass(a.options.css.pluginActiveClass)},d.prototype.observe=function(){var a=this;!a.isActive()&&a.$win.width()<a.options.breakpoint&&a.construct(),a.isActive()&&a.$win.width()>a.options.breakpoint&&a.destruct()},d.prototype.construct=function(){var a=this;a.$wrapper.append(a.$trigger),a.options.showLabel&&a.$wrapper.append(a.$label),a.$element.prepend(a.$wrapper),a.$element.addClass(a.options.css.pluginActiveClass),a.$trigger=a.$element.find("."+a.options.css.triggerClass),a.$label=a.$element.find("."+a.options.css.labelClass),a.updateLabel(),a.executeCallback(a.options.callbacks.afterConstruct)},d.prototype.updateLabel=function(){var a,b,c=this;a=c.$element.find(c.options.activeItemSelector),b=a.length?a.text():c.options.text.noActiveItemText,c.$label.text(b)},d.prototype.destruct=function(){var a=this;a.$element.removeClass(a.options.css.pluginActiveClass),a.$wrapper.remove(),a.executeCallback(a.options.callbacks.afterDestruct)},d.prototype.executeCallback=function(a){"function"==typeof a&&a()},a.fn[e]=function(b){return this.each(function(){if(a.data(this,"plugin_"+e)){if("string"==typeof b)switch(b){case"updateLabel":a.data(this,"plugin_"+e).updateLabel();break;case"open":a.data(this,"plugin_"+e).open();break;case"close":a.data(this,"plugin_"+e).close()}}else a.data(this,"plugin_"+e,new d(this,b))})}}(jQuery,window);