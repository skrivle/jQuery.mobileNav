(function(e,c,g){var d="mobileNav",a=c.document,f={css:{triggerClass:"mobileNavTrigger",pluginActiveClass:"mobileNavActive",isOpenClass:"mobileNavOpen",labelClass:"mobileNavLabel",},text:{openText:"Open menu",closeText:"Close menu",noActiveItemText:"Menu"},callbacks:{afterOpen:g,afterClose:g,afterConstruct:g,afterDestruct:g,},breakpoint:500,showLabel:false,activeItemSelector:"ul > li.active > a",};function b(j,i){var h=this;h.$element=e(j);h.options=e.extend({},f,i);h.init()}b.prototype.init=function(){var h=this,i;h.$trigger=e('<a href="#">'+h.options.text.openText+"</a>");h.$trigger.addClass(h.options.css.triggerClass);h.$label=e('<span class="'+h.options.css.labelClass+'"/>');i=(c.Modernizr&&c.Modernizr.touch)?"touchstart":"click";e(c).resize(function(){h.observe()});h.observe();h.$element.on(i,"."+h.options.css.triggerClass,function(j){j.preventDefault();if(h.isOpen()){h.close()}else{h.open()}})};b.prototype.isOpen=function(){return _self.$element.hasClass(_self.options.css.isOpenClass)};b.prototype.close=function(){var h=this;h.$element.removeClass(h.options.css.isOpenClass);h.$trigger.text(h.options.text.openText);h.executeCallback(h.options.callbacks.afterClose)};b.prototype.open=function(){var h=this;h.$element.addClass(h.options.css.isOpenClass);h.$trigger.text(h.options.text.closeText);h.executeCallback(h.options.callbacks.afterOpen)};b.prototype.observe=function(){var h=this;if(e(c).width()<h.options.breakpoint){h.construct()}else{h.destruct()}};b.prototype.construct=function(){var h=this;h.$element.prepend(h.$trigger);h.$element.addClass(h.options.css.pluginActiveClass);h.$trigger=h.$element.find("."+h.options.css.triggerClass);if(h.options.showLabel){h.$element.append(h.$label);h.$label=h.$element.find("."+h.options.css.labelClass)}h.updateLabel();h.executeCallback(h.options.callbacks.afterConstruct)};b.prototype.updateLabel=function(){var h=this,j,i;j=h.$element.find(h.options.activeItemSelector);if(j.length){i=j.text()}else{i=h.options.text.noActiveItemText}h.$label.text(i)};b.prototype.destruct=function(){var h=this;h.$element.removeClass(h.options.css.pluginActiveClass);h.$trigger.remove();h.$label.remove();h.executeCallback(h.options.callbacks.afterDestruct)};b.prototype.executeCallback=function(h){if(typeof h==="function"){h()}};e.fn[d]=function(h){return this.each(function(){if(!e.data(this,"plugin_"+d)){e.data(this,"plugin_"+d,new b(this,h))}else{if(typeof h==="string"){switch(h){case"updateLabel":e.data(this,"plugin_"+d).updateLabel();break;case"open":e.data(this,"plugin_"+d).open();break;case"close":e.data(this,"plugin_"+d).close();break}}}})}})(jQuery,window);